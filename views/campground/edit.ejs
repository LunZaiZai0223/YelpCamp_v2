<% layout('/layouts/boilerplate.ejs') %>
    <main class="container mt-5">
        <link rel="stylesheet" href="/stylesheets/editform.css">
        <div class="row">
            <div class="col-md-6 offset-md-3 my-5">
                <h2 class="text-center">修改地點</h2>
                <form action="/campgrounds/<%= campground.id %>?_method=PATCH" method="POST"
                    enctype="multipart/form-data">
                    <div class="mb-3">
                        <label for="title" class="form-label">地點名稱(*)</label>
                        <input type="text" class="form-control" id="title" name="campground[title]"
                            value="<%= campground.title %>" required>
                    </div>
                    <div class="mb-3">
                        <label for="location" class="form-label">地址(*)</label>
                        <input type="text" class="form-control" id="location" name="campground[location]"
                            value="<%= campground.location %>" required>
                    </div>
                    <div class="mb-3">
                        <label for="price" class="form-label">價錢(*)</label>
                        <div class="input-group mb-3">
                            <span class="input-group-text">$</span>
                            <input type="number" class="form-control" id="price" name="campground[price]"
                                value="<%= campground.price %>" required>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="formFileMultiple" class="form-label">新增圖片</label>
                        <input class="form-control" type="file" id="formFileMultiple" name="image" multiple>
                        <div class="form-text">
                            圖片大小限制5MB，僅支援jpeg/jpg/png，一次最多上傳3張
                        </div>
                        <div class="mt-3">
                            <label for="" class="form-label d-block">刪除照片</label>
                            <div class="deleted-checkbox-container">
                                <% campground.image.forEach(function(image, i){ %>
                                    <input class="deleted-checkbox-input" type="checkbox" id="image-<%= i %>"
                                        name="deletedImages[]" value="<%= image.filename %>">
                                    <label class="deleted-checkbox-label" for="image-<%= i %>"><img
                                            src="<%= image.thumbnailForEditForm %>" alt=""></label>
                                    <% }) %>
                            </div>
                        </div>
                    </div>
                    <div class="form-floating">
                        <textarea class="form-control" id="description" name="campground[description]"
                            required><%= campground.description %> </textarea>
                        <label for="description">描述(*)</label>
                    </div>
                    <div class="d-flex justify-content-end">
                    <button class="btn btn-success mt-3">修改</button>
                    <a class="btn btn-secondary mt-3 ms-2" href="/campgrounds/<%= campground.id %>">返回</a>
                </div>
                </form>
            </div>
        </div>
    </main>